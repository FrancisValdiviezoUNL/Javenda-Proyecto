<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:p="primefaces">


<ui:composition template="WEB-INF/templates/base-inicio.xhtml">
    <ui:define name="title-view">
        Javenda - Login
    </ui:define>
    <ui:define name="head">
        <style>
            .login-wrapper {
                display: flex;
                width: 900px;
                height: 60vh;
                margin: 50px auto;
                border-radius: 20px;
                overflow: hidden;
                box-shadow: 0 4px 12px rgba(255,255, 255, 0.4), 0 4px 12px rgba(255,255, 255, 0.4);
            }

            .login-left {
                flex: 3;
                padding: 40px;
                background: rgba( 255, 255, 255, 0.1 );
                color: #333;
                display: flex;
                flex-direction: column;
                justify-content: center;
            }

            .login-right {
                flex: 4;
                padding: 0;
                background-color: rgba( 255, 255, 255, 0.1 );
                display: flex;
            }

            .login-right img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                border-radius: 0;
            }

            .login-left {
                background-color:rgba( 255, 255, 255, 0.2 );
                color: #d8d8d8;
                display: flex;
                flex-direction: column;
                justify-content: center;

            }

            .login-left-info{
                text-align: center;
                margin-bottom: 10px;
            }

            .login-right {
                background-color: rgba( 0, 0, 0 , 0.5);
                display: flex;
                justify-content: center;
                align-items: center;
            }
        </style>
    </ui:define>
    <ui:define name="content">
        <h:form>
            <div class="login-wrapper">
                <p:growl id="growl" showDetail="true" life="4000" />
                <!-- Parte Izquierda: Formulario -->
                <div class="login-left">
                    <div class="login-left-info">
                        <h2>¡Bienvenido a Javenda!</h2>
                        <p>Crea tu cuenta en Javenda</p>
                    </div>

                    <div class="ui-fluid">
                        <div class="field">
                            <p:outputLabel for="username" value="Usuario:" />
                            <p:inputText id="username" value="#{userHome.user.name}" required="true"
                                         />
                        </div>

                        <div class="field">
                            <p:outputLabel for="password" value="Contraseña:" />
                            <p:password id="password" value="#{userHome.user.password}" required="true"
                                        toggleMask="true"  >
                                <f:validateLength minimum="8" for="password"/>
                                <p:clientValidator/>
                            </p:password>
                        </div>
                        <div class="field">
                            <p:outputLabel for="firstName" value="Nombres:" />
                            <p:inputText id="firstName" value="#{userHome.user.person.firstName}" required="true"/>
                        </div>
                        <div class="field">
                            <p:outputLabel for="lastName" value="Apellidos:" />
                            <p:inputText id="lastName" value="#{userHome.user.person.lastName}" required="true"/>
                        </div>

                        <div style="margin: 20px">
                            <p:commandButton value="Crear" rendered="#{!userHome.managed}"
                                             action="#{userHome.create()}"
                                             icon="pi pi-user" validateClient="true" styleClass="mt-3"
                                             update="@form" title="Guarda un usuario nuevo"/>
                        </div>

                        <p:link value="¿Ya tienes cuenta? Inicia Seción"
                                outcome="/login.xhtml"
                                style="display: block; margin-top: 20px; text-align: center" />
                    </div>
                </div>

                <!-- Parte Derecha: Imagen o Mensaje -->
                <div class="login-right">
                    <h:graphicImage url="images/icon-javenda.webp" alt="Imagen" style="width:100%; height:100%; object-fit:cover;" />
                </div>

            </div>
        </h:form>
    </ui:define>
</ui:composition>
</html>